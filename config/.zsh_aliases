# ~/.zsh_aliases - Custom ZSH Aliases
# This file is sourced by .zshrc

# ============================================================================
# Navigation & Directory Listing
# ============================================================================

# Modern ls alternatives with eza
if command -v eza &> /dev/null; then
    alias ls='eza --icons'
    alias ll='eza -lh --icons --git'
    alias la='eza -lah --icons --git'
    alias lt='eza --tree --level=2 --icons'
    alias lta='eza --tree --level=2 --icons -a'
else
    alias ll='ls -lh'
    alias la='ls -lAh'
fi

# Quick navigation
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'
alias -- -='cd -'

# ============================================================================
# Git Shortcuts
# ============================================================================

alias g='git'
alias gs='git status'
alias ga='git add'
alias gaa='git add --all'
alias gc='git commit -v'
alias gcm='git commit -m'
alias gca='git commit -v --amend'
alias gco='git checkout'
alias gcb='git checkout -b'
alias gb='git branch'
alias gbd='git branch -d'
alias gp='git push'
alias gpl='git pull'
alias gf='git fetch'
alias gl='git log --oneline --decorate --graph'
alias gla='git log --oneline --decorate --graph --all'
alias gd='git diff'
alias gdc='git diff --cached'
alias gst='git stash'
alias gstp='git stash pop'

# ============================================================================
# SSH Context Management
# ============================================================================

alias ssh-status='ssh-context-manager status'
alias ssh-test='ssh-context-manager test'
alias ssh-config='ssh-context-manager config'

# ============================================================================
# Docker
# ============================================================================

if command -v docker &> /dev/null; then
    alias d='docker'
    alias dc='docker-compose'
    alias dps='docker ps'
    alias dpsa='docker ps -a'
    alias di='docker images'
    alias dex='docker exec -it'
    alias dlog='docker logs -f'
    alias dprune='docker system prune -af'
    alias dstop='docker stop $(docker ps -q)'
fi

# ============================================================================
# Kubernetes
# ============================================================================

if command -v kubectl &> /dev/null; then
    alias k='kubectl'
    alias kg='kubectl get'
    alias kd='kubectl describe'
    alias kdel='kubectl delete'
    alias kl='kubectl logs'
    alias klf='kubectl logs -f'
    alias kex='kubectl exec -it'
    alias kctx='kubectl config use-context'
    alias kns='kubectl config set-context --current --namespace'
fi

# ============================================================================
# Modern Tools
# ============================================================================

# bat (modern cat)
if command -v bat &> /dev/null; then
    alias cat='bat --paging=never'
    alias less='bat'
elif command -v batcat &> /dev/null; then
    alias cat='batcat --paging=never'
    alias less='batcat'
fi

# ripgrep (modern grep)
if command -v rg &> /dev/null; then
    alias grep='rg'
fi

# fd (modern find)
if command -v fd &> /dev/null; then
    alias find='fd'
fi

# ============================================================================
# System
# ============================================================================

# Safer operations
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

# Show open ports
alias ports='netstat -tulanp'

# Get external IP
alias myip='curl -s ifconfig.me'

# Disk usage
if command -v ncdu &> /dev/null; then
    alias du='ncdu --color dark'
fi

# Process management
if command -v htop &> /dev/null; then
    alias top='htop'
fi

# ============================================================================
# Development
# ============================================================================

# Python
alias py='python3'
alias pip='pip3'
alias venv='python3 -m venv'
alias activate='source venv/bin/activate || source .venv/bin/activate'

# Node.js
alias npm-clean='rm -rf node_modules package-lock.json && npm install'
alias yarn-clean='rm -rf node_modules yarn.lock && yarn install'

# ============================================================================
# Quick Edits
# ============================================================================

alias zshrc='${EDITOR:-vim} ~/.zshrc'
alias aliases='${EDITOR:-vim} ~/.zsh_aliases'
alias functions='${EDITOR:-vim} ~/.zsh_functions'
alias gitconfig='${EDITOR:-vim} ~/.gitconfig'
alias reload='source ~/.zshrc'

# ============================================================================
# Miscellaneous
# ============================================================================

# Make directory and cd into it
alias mkcd='take'

# Show $PATH in a readable way
alias path='echo -e ${PATH//:/\\n}'

# Weather
alias weather='curl wttr.in'

# Copy to clipboard (WSL)
if command -v clip.exe &> /dev/null; then
    alias clip='clip.exe'
fi

# Open in Windows Explorer (WSL)
if command -v explorer.exe &> /dev/null; then
    alias open='explorer.exe'
fi
